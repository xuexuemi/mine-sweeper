(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{32:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),s=n(9),c=n.n(s),o=n(4);var l=function(e){var t=Object(a.useRef)(null);return Object(r.jsx)("div",{className:"cell",onMouseDown:function(t){switch(t.buttons){case 1:e.handleHold(e.row,e.col),e.setButtons((function(){return t.buttons}));break;case 2:e.handleFlag(e.row,e.col);break;case 3:e.handleHoldNeighbors(e.row,e.col),e.setButtons((function(){return t.buttons}))}t.preventDefault()},onMouseUp:function(t){switch(e.buttons){case 1:e.handleGameStart(),e.handleUnhold(e.row,e.col),e.handleReveal(e.row,e.col);break;case 3:e.handleUnholdNeighbors(e.row,e.col),e.handleRevealNeighbors(e.row,e.col)}e.setButtons((function(){return 0})),t.preventDefault()},onMouseOver:function(t){switch(e.buttons){case 1:e.handleHold(e.row,e.col);break;case 3:e.handleHoldNeighbors(e.row,e.col)}t.preventDefault()},onMouseOut:function(t){switch(e.buttons){case 1:e.handleUnhold(e.row,e.col);break;case 3:e.handleUnholdNeighbors(e.row,e.col)}t.preventDefault()},onContextMenu:function(e){e.preventDefault()},style:function(){var n="#b0b0b0";switch(e.status){case 2:t.current="/mine-sweeper/images/Minesweeper_0.svg.png";break;case 1:t.current="/mine-sweeper/images/Minesweeper_unopened_square.svg.png";break;case 0:t.current="/mine-sweeper/images/Minesweeper_"+e.tag+".svg.png";break;case-2:9===e.tag&&(t.current="/mine-sweeper/images/Minesweeper_9.svg.png",n="red");break;case-4:t.current="/mine-sweeper/images/Minesweeper_9w.svg.png";break;case-1:case-5:t.current="/mine-sweeper/images/Minesweeper_flag.svg.png"}return{backgroundImage:"url("+t.current+")",backgroundSize:"cover",backgroundColor:n}}()})};var u=function(e){var t=0,n=0,s=0,c=Object(a.useState)(0),u=Object(o.a)(c,2),i=u[0],b=u[1];function h(r,a){e.setCellStatus((function(c){var l=c.slice();if(1===l[r][a])if(9===e.cellTags[r][a])e.handleGameOver(!1,r,a);else for(var u=[[r,a]];u.length>0;){var i=u.shift(),b=Object(o.a)(i,2);if(t=b[0],n=b[1],l[t][n]=0,0===e.cellTags[t][n])for(s=0;s<8;s++){var h=t+e.neighbors[s][0],f=n+e.neighbors[s][1];h>=0&&h<e.numRows&&f>=0&&f<e.numCols&&1===l[h][f]&&u.push([h,f])}}return l}))}function f(t,n){e.setCellStatus((function(e){var r=e.slice();return 1===r[t][n]&&(r[t][n]=2),r}))}function d(r,a){if(0===e.cellStatus[r][a])for(s=0;s<8;s++)t=r+e.neighbors[s][0],n=a+e.neighbors[s][1],t>=0&&t<e.numRows&&n>=0&&n<e.numCols&&1===e.cellStatus[t][n]&&f(t,n)}function g(t,n){e.setCellStatus((function(e){var r=e.slice();return 2===r[t][n]&&(r[t][n]=1),r}))}function j(r,a){for(g(r,a),s=0;s<8;s++)t=r+e.neighbors[s][0],n=a+e.neighbors[s][1],t>=0&&t<e.numRows&&n>=0&&n<e.numCols&&2===e.cellStatus[t][n]&&g(t,n)}function m(t,n){e.setCellStatus((function(r){var a=r.slice();return 1===a[t][n]?(a[t][n]=-1,e.setNumFlagsLeft((function(e){return e-1})),9===e.cellTags[t][n]&&e.setNumMinesLeft((function(r){return 1===r&&e.handleGameOver(!0,t,n),r-1}))):-1===a[t][n]&&(a[t][n]=1,e.setNumFlagsLeft((function(e){return e+1})),9===e.cellTags[t][n]&&e.setNumMinesLeft((function(e){return e+1}))),a}))}function p(t,n){e.setCellStatus((function(r){var a=r.slice();if(0===a[t][n]){var c=0;for(s=0;s<8;s++)h=t+e.neighbors[s][0],f=n+e.neighbors[s][1],h>=0&&h<e.numRows&&f>=0&&f<e.numCols&&-1===a[h][f]&&c++;if(c===e.cellTags[t][n]){var l=[];for(s=0;s<8;s++)if(h=t+e.neighbors[s][0],f=n+e.neighbors[s][1],h>=0&&h<e.numRows&&f>=0&&f<e.numCols&&1===a[h][f]){0===l.length&&9===e.cellTags[h][f]&&(l=[h,f]);for(var u=[[h,f]];u.length>0;){var i=u.shift(),b=Object(o.a)(i,2),h=b[0],f=b[1];if(a[h][f]=0,0===e.cellTags[h][f])for(s=0;s<8;s++){var d=h+e.neighbors[s][0],g=f+e.neighbors[s][1];d>=0&&d<e.numRows&&g>=0&&g<e.numCols&&a[d][g]>=1&&u.push([d,g])}}}l.length>0&&e.handleGameOver(!1,l[0],l[1])}}return a}))}return Object(r.jsx)("div",{className:"board",children:e.cellTags.map((function(t,n){return Object(r.jsx)("div",{className:"row",children:t.map((function(t,a){return Object(r.jsx)(l,{row:n,col:a,tag:t,status:e.cellStatus[n][a],buttons:i,setButtons:b,handleReveal:h,handleFlag:m,handleHold:f,handleUnhold:g,handleHoldNeighbors:d,handleUnholdNeighbors:j,handleRevealNeighbors:p,handleGameStart:function(){return e.handleGameStart()}},10*n+a)}))})}))})},i=n(49),b=n(50),h=Object(b.a)(i.a)({fontSize:"20px",fontFamily:"Architects Daughter",padding:"0px 10px",marginBottom:"18px"});var f=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)("white"),l=Object(o.a)(c,2),i=l[0],b=l[1],f=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]],d=Object(a.useRef)(!0),g=Object(a.useRef)(null),j=Object(a.useRef)(null),m=Object(a.useState)(0),p=Object(o.a)(m,2),v=p[0],O=p[1],w=Object(a.useState)("intermediate"),x=Object(o.a)(w,2),S=x[0],N=x[1],k=Object(a.useState)(16),C=Object(o.a)(k,2),M=C[0],R=C[1],G=Object(a.useState)(16),y=Object(o.a)(G,2),T=y[0],B=y[1],D=Object(a.useState)(40),U=Object(o.a)(D,2),_=U[0],F=U[1],H=Object(a.useState)(40),I=Object(o.a)(H,2),L=I[0],E=I[1],A=Object(a.useState)(40),z=Object(o.a)(A,2),J=z[0],q=z[1],Y=Object(a.useState)([]),K=Object(o.a)(Y,2),P=K[0],Q=K[1],V=Object(a.useState)([]),W=Object(o.a)(V,2),X=W[0],Z=W[1];function $(){for(var e=[],t=[],n=[],r=0;r<M;r++){for(var a=[],c=[],o=[],l=0;l<T;l++)a.push(1),c.push(0),o.push(0);e.push(a),t.push(c),n.push(o)}for(var u=0;u<_;){var i=Math.floor(Math.random()*T*M);r=Math.floor(i/T),l=Math.floor(i%T);1!==t[r][l]&&(t[r][l]=1,u++)}for(r=0;r<M;r++)for(l=0;l<T;l++)if(1===t[r][l])n[r][l]=9;else{var h=0;for(i=0;i<8;i++){var d=r+f[i][0],m=l+f[i][1];d>=0&&d<M&&m>=0&&m<T&&(h+=t[d][m])}n[r][l]=h}Q(e),Z(n),g.current=!1,clearInterval(j.current),O(0),q(_),E(_),s(""),b("white")}return Object(a.useEffect)((function(){d.current||$()}),[_]),Object(a.useEffect)((function(){d.current=!1,$()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"top-bar center",children:Object(r.jsxs)("form",{onChange:function(e){switch(N(e.target.value),e.target.value){case"beginner":R(9),B(9),F(10);break;case"intermediate":R(16),B(16),F(40);break;case"expert":R(16),B(30),F(99)}},children:[Object(r.jsx)("input",{className:"top-bar-radio-first",type:"radio",id:"beginner",value:"beginner",checked:"beginner"===S}),Object(r.jsx)("label",{for:"beginner",children:"Beginner"}),Object(r.jsx)("input",{className:"top-bar-radio",type:"radio",id:"intermediate",value:"intermediate",checked:"intermediate"===S}),Object(r.jsx)("label",{for:"intermediate",children:"Intermediate"}),Object(r.jsx)("input",{className:"top-bar-radio",type:"radio",id:"expert",value:"expert",checked:"expert"===S}),Object(r.jsx)("label",{for:"expert",children:"Expert"})]})}),Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("span",{children:"(flags)"}),Object(r.jsx)("span",{className:"counter",style:{textAlign:"start"},children:J}),Object(r.jsx)(h,{variant:"contained",onClick:$,children:"New Game"}),Object(r.jsx)("span",{className:"counter",style:{textAlign:"end"},children:v}),Object(r.jsx)("span",{children:"(sec)"})]}),Object(r.jsx)(u,{neighbors:f,numRows:M,numCols:T,numMines:_,cellTags:X,cellStatus:P,setCellStatus:Q,setNumMinesLeft:E,setNumFlagsLeft:q,handleGameStart:function(){g.current||(g.current=!0,j.current=setInterval((function(){O((function(e){return e+1}))}),1e3))},handleGameOver:function(e,t,n){clearInterval(j.current),e?(s("Congratulations! You win!"),b("green")):(s("Bomb! Game over!"),b("red")),Q((function(e){var r=e.slice();return(r=r.map((function(e,t){return e.map((function(e,n){return 0!==e?9===X[t][n]?-1===e?-3:0:-1===e?-4:-2:0}))})))[t][n]=1===L?-5:-2,r}))}}),Object(r.jsx)("h2",{style:{backgroundColor:i},children:n})]})};c.a.render(Object(r.jsx)(f,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4aa7e4a0.chunk.js.map